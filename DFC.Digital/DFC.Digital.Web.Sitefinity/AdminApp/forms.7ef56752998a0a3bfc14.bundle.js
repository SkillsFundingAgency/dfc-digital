(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1276:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(30),r=o(16),a=o(43),l=o(1282),c=o(77),p=o(1287),d=o(1290),u=o(1279),m=o(1292),f=o(1280),C=o(1293),_=o(1278),h=o(1281),T=o(1295),E=o(15),g=o(190),F=o(212),v=[{path:"",children:[{path:"integrated",children:[{path:"**",component:T.FormsEditIntegratedComponent}]},{path:"rules",component:l.FormRulesListComponent,children:[{path:"confirm/:name",component:g.ModalWindowComponent,outlet:"dialog"}],resolve:{metaStore:F.MetadataStoreResolver}}]}],O=function(){function e(){}return e=n.__decorate([i.NgModule({declarations:[l.FormRulesListComponent,p.ConditionColumnComponent,d.ActionColumnComponent,f.FormRuleCreateComponent,C.ConditionCreateCompositeComponent,h.ActionCreateCompositeComponent,T.FormsEditIntegratedComponent,p.GetConditionFieldTitlePipe,p.GetConditionOperatorLabelPipe,p.GetConditionFieldValuePipe,p.GetRuleOperatorLabelPipe,m.FormActionColumnDirective],entryComponents:[l.FormRulesListComponent,f.FormRuleCreateComponent],imports:[E.RouterModule.forChild(v),a.FieldsModule,c.SharedModule,s.FormsModule,r.CommonModule],providers:[u.FormsService,_.FormFieldTypesParserService],exports:[]})],e)}();t.SfFormsModule=O},1277:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Or="or",e.And="and"}(t.FormRuleOperatorList||(t.FormRuleOperatorList={})),function(e){e.Any="Or",e.All="And"}(t.FormRuleOperatorCRUD||(t.FormRuleOperatorCRUD={}));var n=function(){function e(){}return e.CREATE_A_RULE="Create a rule",e.EDIT_A_RULE="Edit a rule",e.CREATE_THIS_RULE="Create this rule",e.SAVE_THIS_RULE="Save this rule",e.CANCEL="Cancel",e.BACK_TO_FORMS="Back to Forms in Sitefinity",e.MESSAGE="message",e.PAGE="page",e.PAGE_DOES_NOT_EXIST="Selected page does not exist",e.INPUT_PLACEHOLDER="type field value...",e.SELECTED_PAGE_DOES_NOT_EXIST="Selected page doesn't exist anymore.",e.SHOW_HIDE_TOOLTIP_TITLE="Show or hide fields",e.SHOW_HIDE_TOOLTIP_MESSAGE="You can show a field only if it has already been hidden. If you want a form field to be hidden by default when the page loads, you can configure this from the form edit screen.",e.ROUTES={CONTENT:"content",FORMS:"forms",RULES:"rules",INTEGRATED:"integrated",CREATE_FORM_RULE_DIALOG:"CreateFormRule",SITEFINITY_OLD_BACKEND_EDIT_FORM_RULE_EVENT_NAME:"edit-form-rule",SITEFINITY_OLD_BACKEND_REFRESH_RULES_EVENT_NAME:"refresh_form_rules",ADMIN_APP_CONTROL_CLASS:"sfAdminAppControl"},e.STATIC_FORM_FIELDS=["PageBreak","Captcha","SectionHeader","FormNavigation","Hidden","Submit"],e.CONDITION_OPERATORS={Equal:"Equal",NotEqual:"NotEqual",Contains:"Contains",NotContains:"NotContains",IsFilled:"IsFilled",IsNotFilled:"IsNotFilled",IsLessThan:"IsLessThan",IsGreaterThan:"IsGreaterThan",FileSelected:"FileSelected",FileNotSelected:"FileNotSelected"},e.FORM_FIELD_TYPE={TEXTBOX:"Textbox",PARAGRAPH:"Paragraph",MULTIPLE_CHOICE:"MultipleChoice",CHECKBOX:"Checkbox",DROPDOWN:"DropDown",FILE_UPLOAD:"FileUpload"},e.FORM_ACTION_TYPE={SHOW:"Show",HIDE:"Hide",SKIP:"Skip",GOTO:"GoTo",SHOW_MESSAGE:"ShowMessage"},e.TEXT_INPUT_TYPE={DATE:"Date",MONTH:"Month",TIME:"Time",DATE_TIME:"DateTime",DATE_TIME_LOCAL:"DateTimeLocal",WEEK:"Week",RANGE:"Range",COLOR:"Color",NUMBER:"Number"},e.TIMEZONE_OFFSET=0,e}();t.FormsConstants=n},1278:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(123),r=o(89),a=o(188),l=o(1277),c=o(132),p=o(371),d=o(370),u=o(575),m=o(368),f=o(372),C=o(211),_=o(148),h=o(34),T=o(1283),E=o(47),g=o(26),F=o(42),v=o(3),O=o(8),y=o(24),D=function(){function e(e,t){this.metadataStore=e,this.dynamicItemsService=t}return e.prototype.getConditionComponentType=function(e,t){var o=new p.DateTimePickerSettings("dateTimePicker",!1);switch(o.readOnlyMode=!1,e.Type){case l.FormsConstants.FORM_FIELD_TYPE.TEXTBOX:case l.FormsConstants.FORM_FIELD_TYPE.PARAGRAPH:switch(e.InputType){case l.FormsConstants.TEXT_INPUT_TYPE.DATE:return{component:{type:c.DateTimePickerComponent,updatePropertiesOnChange:!0,properties:{timeZoneOffset:l.FormsConstants.TIMEZONE_OFFSET,hideSelectIcon:!0,showTime:!1,settings:o,value:t}}};case l.FormsConstants.TEXT_INPUT_TYPE.MONTH:return{component:{type:c.DateTimePickerComponent,updatePropertiesOnChange:!0,properties:{timeZoneOffset:l.FormsConstants.TIMEZONE_OFFSET,hideSelectIcon:!0,dateBottomView:T.DateTimePickerConstants.VIEW.YEAR,dateTopView:T.DateTimePickerConstants.VIEW.DECADE,dateFormat:T.DateTimePickerConstants.MONTH_FORMAT,showTime:!1,settings:o,value:t}}};case l.FormsConstants.TEXT_INPUT_TYPE.TIME:return{component:{type:c.DateTimePickerComponent,updatePropertiesOnChange:!0,properties:{timeZoneOffset:l.FormsConstants.TIMEZONE_OFFSET,hideSelectIcon:!0,showDate:!1,settings:o,value:t}}};case l.FormsConstants.TEXT_INPUT_TYPE.DATE_TIME:case l.FormsConstants.TEXT_INPUT_TYPE.DATE_TIME_LOCAL:return{component:{type:c.DateTimePickerComponent,updatePropertiesOnChange:!0,properties:{timeZoneOffset:l.FormsConstants.TIMEZONE_OFFSET,hideSelectIcon:!0,showDate:!0,showTime:!0,settings:o,value:t}}};case l.FormsConstants.TEXT_INPUT_TYPE.RANGE:return{component:{type:s.InputComponent,updatePropertiesOnChange:!0,properties:{value:t,type:l.FormsConstants.TEXT_INPUT_TYPE.NUMBER,placeholder:l.FormsConstants.INPUT_PLACEHOLDER}},cssClassList:"sf-row__col"};case l.FormsConstants.TEXT_INPUT_TYPE.COLOR:return{component:{type:s.InputComponent,updatePropertiesOnChange:!0,properties:{value:t,type:l.FormsConstants.TEXT_INPUT_TYPE.COLOR,placeholder:l.FormsConstants.INPUT_PLACEHOLDER}},cssClassList:"sf-row__col -col-1"};case l.FormsConstants.TEXT_INPUT_TYPE.WEEK:return{component:{type:s.InputComponent,updatePropertiesOnChange:!0,properties:{value:t,type:l.FormsConstants.TEXT_INPUT_TYPE.WEEK,placeholder:l.FormsConstants.INPUT_PLACEHOLDER}}};default:return{component:{type:s.InputComponent,updatePropertiesOnChange:!0,properties:{value:t,type:e.InputType,placeholder:l.FormsConstants.INPUT_PLACEHOLDER}},cssClassList:"sf-row__col"}}case l.FormsConstants.FORM_FIELD_TYPE.MULTIPLE_CHOICE:case l.FormsConstants.FORM_FIELD_TYPE.CHECKBOX:case l.FormsConstants.FORM_FIELD_TYPE.DROPDOWN:var n=new a.ChoiceSettings("choiceDropdownComponent",!1);return e.Values.forEach(function(e){n.choices.push({Value:e,Name:e})}),t?n.defaultValue=t:e.Values.length>0&&(n.defaultValue=e.Values[0]),{component:{type:r.ChoiceDropdownComponent,updatePropertiesOnChange:!0,properties:{settings:n}},cssClassList:"sf-row__col"};default:var i=new h.SettingsBase("hiddenComponent",!1);return{component:{type:d.HiddenComponent,properties:{settings:i}},cssClassList:"sf-row__col"}}},e.prototype.getActionComponentType=function(e,t,o){var n,i=this;switch(e){case l.FormsConstants.FORM_ACTION_TYPE.SHOW:case l.FormsConstants.FORM_ACTION_TYPE.HIDE:var c=new a.ChoiceSettings("formTargetDropdown",!1);return this.getActionFields(t).forEach(function(e){c.choices.push({Value:e.Id,Name:e.Title})}),o?c.defaultValue=o:t.Fields.length>0&&(c.defaultValue=t.Fields[0].Id),n={component:{type:r.ChoiceDropdownComponent,updatePropertiesOnChange:!0,properties:{settings:c}},tooltip:{title:l.FormsConstants.SHOW_HIDE_TOOLTIP_TITLE,message:l.FormsConstants.SHOW_HIDE_TOOLTIP_MESSAGE}},v.of(n);case l.FormsConstants.FORM_ACTION_TYPE.SKIP:var p=new a.ChoiceSettings("formActionsDropdown",!1);return t.Steps.forEach(function(e){p.choices.push({Value:e.Key,Name:e.Value})}),o?p.defaultValue=o:t.Steps.length>0&&(p.defaultValue=t.Steps[0].Key),n={component:{type:r.ChoiceDropdownComponent,updatePropertiesOnChange:!0,properties:{settings:p}}},v.of(n);case l.FormsConstants.FORM_ACTION_TYPE.SHOW_MESSAGE:var d=void 0,h=new u.TextAreaSettings("editorComponent",!1);return h.required=!0,h.friendlyTitle=l.FormsConstants.MESSAGE,o?d=o:h.defaultValue=O.stringConstants.EMPTY_STRING,n={component:{type:m.TextAreaComponent,properties:{settings:h,value:d}},cssClassList:"sf-row__col"},v.of(n);case l.FormsConstants.FORM_ACTION_TYPE.GOTO:var T=new f.RelatedDataSettings("relatedDataComponent",!1);if(T.type=F.ENTITY_SET.PAGES,T.culture=t.Culture,T.allowMultiple=!1,T.displayMode=_.DISPLAY_MODE.INPUT,T.required=!0,T.title=l.FormsConstants.PAGE,o){var E={itemKey:o,entityData:{metadata:this.metadataStore.getEntity(F.ENTITY_SET.PAGES),culture:t.Culture}};return new v.Observable(function(e){i.dynamicItemsService.getItem(E).subscribe(function(t){e.next(n={component:{type:C.RelatedDataComponent,updatePropertiesOnChange:!0,properties:{settings:T,value:[y.cloneObject(t.data)]}},cssClassList:"sf-row__col"})},function(t){e.next(n={component:{type:C.RelatedDataComponent,updatePropertiesOnChange:!0,properties:{settings:T,value:[y.cloneObject({Title:l.FormsConstants.SELECTED_PAGE_DOES_NOT_EXIST,NotFound:!0,icon:"ban",iconLook:"darker",inactive:!0})]}},cssClassList:"sf-row__col"})})})}return n={component:{type:C.RelatedDataComponent,updatePropertiesOnChange:!0,properties:{settings:T,value:[]}},cssClassList:"sf-row__col"},v.of(n);default:return n={component:{type:s.InputComponent}},v.of(n)}},e.prototype.getField=function(e,t){return e.Fields.find(function(e){return e.Id===t})},e.prototype.getConditionFields=function(e){var t=[];return e.Fields.forEach(function(e){e.Type&&e.Operators&&e.Operators.length>0&&-1===l.FormsConstants.STATIC_FORM_FIELDS.indexOf(e.Type)&&t.push(e)}),t},e.prototype.getActionFields=function(e){var t=[];return e.Fields.forEach(function(e){e.Hideable&&t.push(e)}),t},e=n.__decorate([i.Injectable(),n.__metadata("design:paramtypes",[E.MetadataStore,g.DynamicItemService])],e)}();t.FormFieldTypesParserService=D},1279:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(47),r=o(26),a=o(8),l=o(42),c=function(){function e(e,t){this.metadataStore=e,this.dynamicItemsService=t}return e.prototype.getFormDefinition=function(e,t){void 0===t&&(t=a.stringConstants.EMPTY_STRING);var o={itemKey:e,action:"Default.GetTempForm()",entityData:{metadata:this.metadataStore.getEntity(l.ENTITY_SET.FORM_DRAFTS),culture:t}};return this.dynamicItemsService.getItem(o)},e.prototype.updateRules=function(e){var t={metadata:this.metadataStore.getEntity(l.ENTITY_SET.FORM_DRAFTS),provider:a.stringConstants.EMPTY_STRING,culture:e.Culture};return this.dynamicItemsService.executeEntityOperationForDataItemKey(e.Id,t,"Default.SaveTempForm()",{rules:e.Rules})},e=n.__decorate([i.Injectable(),n.__metadata("design:paramtypes",[s.MetadataStore,r.DynamicItemService])],e)}();t.FormsService=c},1280:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(188),r=o(1277),a=o(8),l=o(1278),c=o(1281),p=o(60),d=function(){function e(e,t){this.typeParserService=e,this.scrollService=t}return e.prototype.ngOnInit=function(){this.formRule||(this.formRule={Operator:r.FormRuleOperatorCRUD.Any,Conditions:[this.generateCondition()],Actions:[this.generateAction()]}),this.operatorDropdownSettings=new s.ChoiceSettings("operatorDropdown",!1),this.operatorDropdownSettings.choices=this.generateChoices(),this.formRule&&(this.operatorDropdownSettings.defaultValue=this.formRule.Operator)},e.prototype.canCloseCallback=function(e){var t=!0;return e.data&&e.data.data&&this.actionComponents.forEach(function(e){t=e.isValid()&&t}),t},e.prototype.addCondition=function(){this.formRule.Conditions.push(this.generateCondition())},e.prototype.deleteCondition=function(e){var t=this.formRule.Conditions.indexOf(e);this.formRule.Conditions.splice(t,1)},e.prototype.addAction=function(){this.formRule.Actions.push(this.generateAction())},e.prototype.deleteAction=function(e){var t=this.formRule.Actions.indexOf(e);this.formRule.Actions.splice(t,1)},e.prototype.formOperatorChanged=function(e){this.formRule.Operator=e},e.prototype.generateCondition=function(){var e={Id:a.stringConstants.EMPTY_STRING,Operator:a.stringConstants.EMPTY_STRING,Value:a.stringConstants.EMPTY_STRING},t=this.typeParserService.getConditionFields(this.formDefinition)[0];if(t){e.Id=t.Id;var o=t.Operators[0];o&&(e.Operator=o.Key),e.Value=this.getDefaultFieldValue(t)}return e},e.prototype.generateAction=function(){var e={Action:a.stringConstants.EMPTY_STRING,Target:a.stringConstants.EMPTY_STRING};this.formDefinition.AvailableActions[0]&&(e.Action=this.formDefinition.AvailableActions[0].Key);var t=this.typeParserService.getActionFields(this.formDefinition)[0];return t&&(e.Target=t.Id),e},e.prototype.generateChoices=function(){var e=[];return Object.keys(r.FormRuleOperatorCRUD).forEach(function(t){e.push({Value:r.FormRuleOperatorCRUD[t],Name:t})}),e},e.prototype.getDefaultFieldValue=function(e){var t=a.stringConstants.EMPTY_STRING;return e.Values.length>0&&(t=e.Values[0]),t},n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"title",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"formDefinition",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"formRule",void 0),n.__decorate([i.ViewChildren(c.ActionCreateCompositeComponent),n.__metadata("design:type",i.QueryList)],e.prototype,"actionComponents",void 0),e=n.__decorate([i.Component({selector:"sf-form-rule-create",template:o(1285),encapsulation:i.ViewEncapsulation.None}),n.__metadata("design:paramtypes",[l.FormFieldTypesParserService,p.ScrollService])],e)}();t.FormRuleCreateComponent=d},1281:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(188),r=o(1278),a=o(283),l=o(5),c=function(e){function t(t){var o=e.call(this)||this;return o.typeParserService=t,o.actionForDelete=new i.EventEmitter,o.showErrors=!1,o}return n.__extends(t,e),t.prototype.ngOnInit=function(){this.initActionFields()},t.prototype.loaderInit=function(e){var t=this,o=this;this.wrappedField=e,this.handleFocusChanges(),this.wrappedField.registerOnChange(function(e){t.processErrors(),e instanceof Array&&e.length>0?o.formRuleAction.Target=e[0].Id:o.formRuleAction.Target=e})},t.prototype.formActionChanged=function(e){e&&(this.formRuleAction.Action=e,this.refreshDynamicComponent(null))},t.prototype.deleteAction=function(){this.actionForDelete.emit(this.formRuleAction)},t.prototype.isValid=function(){var e=!0,t=this.wrappedField.getRequiredErrorMessage();return this.wrappedField.settings.required&&!this.hasValue()&&t.length>0&&(this.processErrors(t),e=!1),e},t.prototype.processErrors=function(e){void 0===e&&(e=[]),this.errorMessages=[],this.showErrors=!1,e&&e.length>0&&(this.errorMessages=e,this.showErrors=!0)},t.prototype.onToggleTooltip=function(){this.droppedTooltip=!this.droppedTooltip},t.prototype.hasValue=function(){var e=this.wrappedField.value,t=!0;return e instanceof Array&&0===e.length?t=!1:e||(t=!1),t},t.prototype.handleFocusChanges=function(){var e=this,t=this.wrappedField.focus$.subscribe(function(t){e.showErrors=!t});this.registerSubscription(t)},t.prototype.initActionFields=function(){var e=this;this.formRuleAction&&(this.formActionsDropdownSettings=new s.ChoiceSettings("formActionsDropdown",!1),this.formDefinition.AvailableActions.forEach(function(t){e.formActionsDropdownSettings.choices.push({Value:t.Key,Name:t.Value})}),this.formActionsDropdownSettings.defaultValue=this.formRuleAction.Action,this.refreshDynamicComponent(this.formRuleAction.Target))},t.prototype.refreshDynamicComponent=function(e){var t=this;this.processErrors(),this.loader&&this.loader.destroy(this.formFieldColumnData.component),this.typeParserService.getActionComponentType(this.formRuleAction.Action,this.formDefinition,e).pipe(l.first()).subscribe(function(e){t.formFieldColumnData=e;var o=t.formFieldColumnData.component.properties.settings.defaultValue;null!==o&&(t.formRuleAction.Target=o.toString())})},n.__decorate([i.Input(),n.__metadata("design:type",Object)],t.prototype,"formDefinition",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],t.prototype,"formRuleAction",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],t.prototype,"canDelete",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],t.prototype,"actionForDelete",void 0),n.__decorate([i.ViewChild("loader"),n.__metadata("design:type",a.DynamicComponentLoaderComponent)],t.prototype,"loader",void 0),t=n.__decorate([i.Component({selector:"sf-action-create-composite",template:o(1284)}),n.__metadata("design:paramtypes",[r.FormFieldTypesParserService])],t)}(o(22).RxBaseComponent);t.ActionCreateCompositeComponent=c},1282:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(369),r=o(35),a=o(1279),l=o(191),c=o(8),p=o(29),d=o(1280),u=o(15),m=o(1277),f=o(47),C=o(88),_=o(42),h=o(22),T=o(192),E=o(37),g=o(20),F=o(24),v=o(76),O=o(5),y=o(52),D=o(284),I=function(e){function t(t,o,n,i,r,a,l,c){var p=e.call(this)||this;return p.formsService=t,p.metadataStore=o,p.modalService=n,p.route=i,p.router=r,p.window=a,p.document=l,p.siteData=c,p.shouldHideHeader=!0,p.stateWrapper=s.StateWrapper.empty(),p.canUpdate=!0,p.isInitialRulesLoadComplete=!1,p.hasFields=!1,p}return n.__extends(t,e),t.prototype.onPreview=function(e){this.onPreviewDataListener(e)},t.prototype.ngOnInit=function(){var e=this;this.toggleEditFormControlCssClass(),this.route.queryParamMap.pipe(O.flatMap(function(t){return e.formId=t.get("id"),e.culture=t.get("culture")||c.stringConstants.EMPTY_STRING,e.siteData.getValue()}),O.flatMap(function(t){return e.culture=e.culture||t.DefaultContentCulture,e.formsService.getFormDefinition(e.formId,e.culture)}),y.toLoadingState(),y.delayEmission(D.MINIMUM_LOADER_TIME)).subscribe(function(t){if(!t.isLoading)try{var o=t.content;e.formDefinition=F.cloneObject(o.data),e.formDefinition.Rules=e.getFormRules(),e.formDefinition.Culture=e.culture,e.propagateRules(!1),e.hasFields=e.formDefinition.Fields&&e.formDefinition.Fields.length>0,e.isInitialRulesLoadComplete=!0}catch(t){e.handleFormRuleFetchError(t)}},function(t){e.handleFormRuleFetchError(t)}),this.navbarConfiguration={mode:l.NavbarModes.OneColumn,leftNavbarButtonData:{show:!0,look:"toggle",icon:"angle-left",iconLook:"size-2xl",mode:l.LeftNavbarButtonMode.Back,title:m.FormsConstants.BACK_TO_FORMS},isScrollEnabled:!1,look:c.stringConstants.EMPTY_STRING,templates:[this.navigationMenuTemplate]},this.treeConfig={noSelection:!0}},t.prototype.ngOnDestroy=function(){this.toggleEditFormControlCssClass(!1)},t.prototype.createRule=function(e){var t=this,o=e?e.data:null,n=e?this.stateWrapper.dataItems.indexOf(e):-1,i=e?F.cloneObject(o):null,s={type:d.FormRuleCreateComponent,afterComponentInit:function(o){o.title=e?m.FormsConstants.EDIT_A_RULE:m.FormsConstants.CREATE_A_RULE,o.formDefinition=t.formDefinition,o.formRule=i}},r=[new p.ConfirmButton(m.FormsConstants.CREATE_THIS_RULE),new p.CancelButton(m.FormsConstants.CANCEL)];e&&(r=[new p.ConfirmButton(m.FormsConstants.SAVE_THIS_RULE),new p.CancelButton(m.FormsConstants.CANCEL)]);var a=new p.DialogData(s,function(e){return t.onDone(e,n)},r,null);this.modalService.setMapping(a,m.FormsConstants.ROUTES.CREATE_FORM_RULE_DIALOG),this.modalService.show(m.FormsConstants.ROUTES.CREATE_FORM_RULE_DIALOG,this.route)},t.prototype.onDone=function(e,t){if(e.data&&e.data.data){var o=e.component.formRule;o&&(t>=0?this.formDefinition.Rules.splice(t,1,o):this.formDefinition.Rules.push(o),this.propagateRules(!0))}},t.prototype.getFormRules=function(){var e=this,t=[];return this.formDefinition.Rules.forEach(function(o){var n=[];o.Conditions.forEach(function(t){e.findFormField(t.Id)&&n.push(t)});var i=[];o.Actions.forEach(function(t){switch(t.Action){case m.FormsConstants.FORM_ACTION_TYPE.SHOW:case m.FormsConstants.FORM_ACTION_TYPE.HIDE:e.findFormField(t.Target)&&i.push(t);break;case m.FormsConstants.FORM_ACTION_TYPE.SKIP:e.findFormStep(t.Target)&&i.push(t);break;default:i.push(t)}}),n.length>0&&i.length>0&&(o.Conditions=n,o.Actions=i,t.push(o))}),t},t.prototype.findFormField=function(e){return this.formDefinition.Fields.find(function(t){return t.Id===e})},t.prototype.findFormStep=function(e){return this.formDefinition.Steps.find(function(t){return t.Key===e})},t.prototype.onNavigateBack=function(){this.document.dispatchEvent(new Event(m.FormsConstants.ROUTES.SITEFINITY_OLD_BACKEND_REFRESH_RULES_EVENT_NAME)),this.router.navigate([m.FormsConstants.ROUTES.CONTENT,m.FormsConstants.ROUTES.FORMS,m.FormsConstants.ROUTES.INTEGRATED,this.formDefinition.Name])},t.prototype.propagateRules=function(e){var t=this,o=this.metadataStore.getEntity(_.ENTITY_SET.FORM_DRAFTS),n=[];this.formDefinition.Rules.forEach(function(e){n.push(r.DataItem.from(e,o,null,null))}),this.stateWrapper=s.StateWrapper.wrap({dataItems:n,totalCount:n.length}),e&&(this.canUpdate=!1,this.formsService.updateRules(this.formDefinition).subscribe(function(e){t.canUpdate=!0}))},t.prototype.deleteRule=function(e){var t=this.stateWrapper.dataItems.indexOf(e);t>=0&&this.formDefinition.Rules.splice(t,1),this.propagateRules(!0)},t.prototype.onPreviewDataListener=function(e){this.openPreview(e.detail,new T.Action(E.OPERATION_NAMES.preview,null))},t.prototype.openPreview=function(e,t){this.window.open(e.data.ViewUrl,c.NEW_TAB_TARGET)},t.prototype.toggleEditFormControlCssClass=function(e){void 0===e&&(e=!0),e?this.document.body.classList.add(m.FormsConstants.ROUTES.ADMIN_APP_CONTROL_CLASS):this.document.body.classList.remove(m.FormsConstants.ROUTES.ADMIN_APP_CONTROL_CLASS)},t.prototype.handleFormRuleFetchError=function(e){throw new Error("An error occurred during fetching the form rules. "+e)},n.__decorate([i.ViewChild("navigationMenuTemplate"),n.__metadata("design:type",i.TemplateRef)],t.prototype,"navigationMenuTemplate",void 0),n.__decorate([i.HostListener("navigateToPreview",["$event"]),n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"onPreview",null),t=n.__decorate([i.Component({template:o(1286)}),n.__param(5,i.Inject(g.WINDOW_TOKEN)),n.__param(6,i.Inject(C.DOCUMENT_TOKEN)),n.__metadata("design:paramtypes",[a.FormsService,f.MetadataStore,p.ModalWindowService,u.ActivatedRoute,u.Router,Window,Document,v.SiteDataStore])],t)}(h.RxBaseComponent);t.FormRulesListComponent=I},1283:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.MONTH_FORMAT="MM/yyyy",e.VIEW={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"},e}();t.DateTimePickerConstants=n},1284:function(e,t){e.exports='<div class="sf-row">\n    <div class="sf-row__col -col-6 -sf-mr-xs">\n        <sf-dropdown-choice [settings]="formActionsDropdownSettings" (selectionChange)="formActionChanged($event)"></sf-dropdown-choice>\n    </div>\n    <div *ngIf="formFieldColumnData" class="-sf-mr-3xs" [ngClass]="formFieldColumnData.cssClassList">\n        <sf-component-loader #loader class="sf-field -sf-mb-zero -sf-pb-zero -sf-pt-zero" [ngClass]="{\'-has-errors\': showErrors && errorMessages && errorMessages.length > 0}" [componentData]="formFieldColumnData.component" (componentInit)="loaderInit($event)"></sf-component-loader>\n        <sf-error *ngIf="showErrors && errorMessages && errorMessages.length > 0" [messages]="errorMessages" class="-sf-mt-4xs"></sf-error>\n    </div>\n    <span *ngIf="formFieldColumnData.tooltip" class="-align-self-center sf-field__tooltip sf-tooltip -open-on-click" [class.-dropped]="droppedTooltip">\n        <sf-icon name="question-circle" look="size-xs sf-clickable" (click)="onToggleTooltip()" (keyup.enter)="onToggleTooltip()" tabindex="0" aria-label="Show or hide fields information"></sf-icon>\n        <sf-notification look="tooltip narrow" class="sf-tooltip__content" [caption]="formFieldColumnData.tooltip.title">\n            {{formFieldColumnData.tooltip.message}}\n        </sf-notification>\n    </span>\n    <sf-icon *ngIf="canDelete" look="size-3xs sf-clickable" name="times" (click)="deleteAction()" class="-sf-mt-3xs -sf-ml-auto"></sf-icon>\n</div>\n'},1285:function(e,t){e.exports='<div class="sf-form -sf-centered-box">\n    <h1 *ngIf="stickyToolbar.isSticky && hasStickyBuffer" class="-sf-invisible" aria-hidden="true">PREVENT_BROWSER_SCROLL_WHEN_STICKY</h1>\n    <div sfSticky #stickyToolbar="sfSticky" [ngClass]="{\'sf-row sf-top-toolbar\': stickyToolbar.isSticky}">\n        <h1 [ngClass]="{\'h3 -sf-ml-3xl\': stickyToolbar.isSticky, \'-sf-mb-3xl\': !stickyToolbar.isSticky}">{{title}}</h1>\n        <span *ngIf="stickyToolbar.isSticky" tabindex="0" class="sf-link -align-self-center -sf-txt-align-center -sf-ml-auto -sf-mr-50" (click)="scrollService.scrollToTop(true, 250)" (keyup.enter)="scrollService.scrollToTop(true, 250)">Back to top</span>\n    </div>\n    <div class="-sf-txt-align-left">\n        <div class="sf-field sf-row -align-items-center">\n            <label class="sf-field__label">IF</label>\n            <sf-dropdown-choice [settings]="operatorDropdownSettings" (selectionChange)="formOperatorChanged($event)" class="-sf-ml-3xs -sf-mr-3xs -sf-txt-large"></sf-dropdown-choice>\n            <b class="sf-field__label">of the following conditions are met</b>\n        </div>\n\n        <div class="sf-field">\n            <div class="sf-field__content -sf-mb-3xs">\n                <sf-condition-create-composite\n                        [formDefinition]="formDefinition"\n                        *ngFor="let condition of formRule.Conditions; let last = last"\n                        [formRuleCondition]="condition"\n                        [canDelete]="formRule.Conditions.length > 1"\n                        (conditionForDelete)="deleteCondition($event)"\n                        class="-sf-block"\n                        [ngClass]="{\'-sf-mb-xs\': !last}">\n                </sf-condition-create-composite>\n            </div>\n            <sf-button (onClick)="addCondition()" look="circle small sf-mb-4xs" icon="plus" iconLook="size-xs"></sf-button>\n        </div>\n\n        <div class="sf-field">\n            <label class="sf-field__label">THEN...</label>\n            <div class="sf-field__content -sf-mb-3xs">\n                <sf-action-create-composite\n                    [formDefinition]="formDefinition"\n                    *ngFor="let action of formRule.Actions; let last = last"\n                    [formRuleAction]="action"\n                    [canDelete]="formRule.Actions.length > 1"\n                    (actionForDelete)="deleteAction($event)"\n                    class="-sf-block"\n                    [ngClass]="{\'-sf-mb-xs\': !last}">\n                </sf-action-create-composite>\n            </div>\n            <sf-button (onClick)="addAction()" look="circle small sf-mb-4xs" icon="plus" iconLook="size-xs"></sf-button>\n        </div>\n    </div>\n    <hr>\n</div>\n\n'},1286:function(e,t){e.exports='<router-outlet name="dialog"></router-outlet>\n\n<div class="sf-wrapper -list sf-router-wrapper">\n    <main class="sf-main -list">\n\n        <sf-navigation-menu\n            [disableLeftNavbarButton]="isActionInProgress"\n            [configuration]="navbarConfiguration"\n            (leftNavButtonClick)="onNavigateBack()">\n        </sf-navigation-menu>\n\n        <ng-template #navigationMenuTemplate>\n            <h3 class="-sf-ml-xs">Form rules</h3>\n        </ng-template>\n\n        <ng-container *ngIf="isInitialRulesLoadComplete; else loading">\n\n            <div *ngIf="!stateWrapper.hasItems; else itemsList" class="-align-items-center -sf-mt-6xl -sf-txt-align-center ng-star-inserted">\n                <div class="sf-row__col -auto-flex">\n                    <h1 class="-sf-fade-in">{{ formDefinition.Title }}</h1>\n                </div>\n                <div class="-sf-mt-6xl -sf-mb-6xl">\n                    <sf-icon name="file-text-o" look="illustrative"></sf-icon>\n                    <p *ngIf="hasFields" class="-sf-txt-hint -sf-mt-xs">No rules have been created yet</p>\n                    <p *ngIf="!hasFields" class="-sf-txt-hint -sf-mt-xs">You cannot create rules for an empty form</p>\n                </div>\n                <div class="sf-row__col -no-flex -sf-mb-2xs">\n                    <sf-button *ngIf="hasFields" iconlook="size-xs" look="action large sf-mr-zero" icon-look="size-xs" (click)="createRule(null)">Create a rule</sf-button>\n                </div>\n            </div>\n\n            <ng-template #itemsList>\n                <div class="sf-row -sf-mb-m sf-main__header">\n                    <div class="sf-row__col -auto-flex">\n                        <h1 class="-sf-fade-in">{{ formDefinition.Title }}</h1>\n                    </div>\n                    <div class="sf-row__col -no-flex">\n                        <sf-button iconlook="size-xs" look="action" icon-look="size-xs" (click)="createRule(null)">Create a rule</sf-button>\n                    </div>\n                </div>\n                <sf-notification look="small inline sf-mb-m">\n                    Rules will be active on the site after you publish the form.\n                </sf-notification>\n                <sf-list \n                    [itemsState]="stateWrapper" \n                    [shouldHideHeader]="shouldHideHeader" \n                    [treeConfig]="treeConfig"\n                    [ignoreLoaderDelay]="true"\n                    (itemSelectionChanged)="createRule($event)" \n                    class="-sf-txt-large">\n                        <ng-template sfColumnTemplate let-item="context" name="if" class="-fluid" clickable="true">\n                            <b>IF</b>\n                        </ng-template>\n                        <ng-template sfColumnTemplate let-item="context" name="condition" class="-fill" clickable="true">\n                            <sf-condition-column [formRuleConditions]="item.data.Conditions" [formRuleOperator]="item.data.Operator" [formDefinition]="formDefinition"></sf-condition-column>\n                        </ng-template>\n                        <ng-template sfColumnTemplate let-item="context" name="then" clickable="true" class="-fluid">\n                            <b>THEN</b>\n                        </ng-template>\n                        <ng-template sfColumnTemplate let-item="context" name="result" class="-fill" clickable="true">\n                            <sf-action-column [formRuleActions]="item.data.Actions" [formDefinition]="formDefinition"></sf-action-column>\n                        </ng-template>\n                        <ng-template sfColumnTemplate let-item="context" name="delete" class="-col-size-2xs -sf-txt-align-right">\n                            <sf-icon look="size-3xs sf-clickable" name="times" (click)="deleteRule(item)" [ngClass]="{\'-sf-disabled\':!this.canUpdate}"></sf-icon>\n                        </ng-template>\n                </sf-list>\n\n            </ng-template>\n\n        </ng-container>\n\n        <ng-template #loading>\n            <div class="-sf-mt-6xl">\n                <div *ngFor="let item of [0,0,0,0,0,0,0,0,0,0]" class="sf-tree-list__row -loading">\n                    <div class="sf-tree-list__cell">\n                        <sf-loader look="skeleton list"></sf-loader>\n                    </div>\n                </div>\n            </div>\n        </ng-template>\n    </main>\n</div>\n'},1287:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(1277),r=o(1278),a=o(8),l=o(189),c=o(1288),p=function(){function e(e){this.typeParserService=e}return n.__decorate([i.Input(),n.__metadata("design:type",Array)],e.prototype,"formRuleConditions",void 0),n.__decorate([i.Input(),n.__metadata("design:type",String)],e.prototype,"formRuleOperator",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"formDefinition",void 0),e=n.__decorate([i.Component({selector:"sf-condition-column",template:o(1289)}),n.__metadata("design:paramtypes",[r.FormFieldTypesParserService])],e)}();t.ConditionColumnComponent=p;var d=function(){function e(e){this.typeParserService=e}return e.prototype.transform=function(e,t){var o=this.typeParserService.getField(t,e.Id);return o?o.Title:a.stringConstants.EMPTY_STRING},e=n.__decorate([i.Pipe({name:"sfGetConditionFieldTitle",pure:!0}),n.__metadata("design:paramtypes",[r.FormFieldTypesParserService])],e)}();t.GetConditionFieldTitlePipe=d;var u=function(){function e(e){this.typeParserService=e}return e.prototype.transform=function(e,t){var o=this.typeParserService.getField(t,e.Id);if(o){var n=o.Operators.find(function(t){return t.Key===e.Operator});if(n)return n.Value}return a.stringConstants.EMPTY_STRING},e=n.__decorate([i.Pipe({name:"sfGetConditionOperatorLabel",pure:!0}),n.__metadata("design:paramtypes",[r.FormFieldTypesParserService])],e)}();t.GetConditionOperatorLabelPipe=u;var m=function(){function e(){}return e.prototype.transform=function(e){return s.FormRuleOperatorList[e]},e=n.__decorate([i.Pipe({name:"sfGetRuleOperatorLabel",pure:!0})],e)}();t.GetRuleOperatorLabelPipe=m;var f=function(){function e(e){this.typeParserService=e,this.relativeDatePipe=new l.RelativeDatePipe,this.isoWeekDatesPipe=new c.IsoWeekDatesPipe}return e.prototype.transform=function(e,t){var o=this.typeParserService.getField(t,e.Id);if(o&&o.InputType&&e.Value&&e.Value.trim()!==a.stringConstants.EMPTY_STRING)switch(o.InputType){case s.FormsConstants.TEXT_INPUT_TYPE.DATE:return this.relativeDatePipe.transform(e.Value,null,s.FormsConstants.TIMEZONE_OFFSET);case s.FormsConstants.TEXT_INPUT_TYPE.MONTH:return this.relativeDatePipe.transform(e.Value,l.RelativeDatePipe.MONTH_AND_YEAR,s.FormsConstants.TIMEZONE_OFFSET);case s.FormsConstants.TEXT_INPUT_TYPE.TIME:return this.relativeDatePipe.transform(e.Value,l.RelativeDatePipe.TIME,s.FormsConstants.TIMEZONE_OFFSET);case s.FormsConstants.TEXT_INPUT_TYPE.DATE_TIME_LOCAL:return this.relativeDatePipe.transform(e.Value,l.RelativeDatePipe.FULL_DATE_SHORT_MONTH_AND_TIME,s.FormsConstants.TIMEZONE_OFFSET);case s.FormsConstants.TEXT_INPUT_TYPE.WEEK:return this.isoWeekDatesPipe.transform(e.Value);default:return e.Value}return e.Value},e=n.__decorate([i.Pipe({name:"sfGetConditionFieldValue",pure:!0}),n.__metadata("design:paramtypes",[r.FormFieldTypesParserService])],e)}();t.GetConditionFieldValuePipe=f},1288:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(8),r=function(){function e(){}return e.prototype.transform=function(e){if(e){var t=e.split("-W");if(2===t.length){var o=t[0],n=t[1];e="Week"+s.stringConstants.INTERVAL+n+s.stringConstants.COMMA+s.stringConstants.INTERVAL+o}}return e},e=n.__decorate([i.Pipe({name:"sfIsoWeekDates"})],e)}();t.IsoWeekDatesPipe=r},1289:function(e,t){e.exports='<div *ngFor="let condition of formRuleConditions; let l = last">\n    <div>{{ condition | sfGetConditionFieldTitle:formDefinition }}<span class="-sf-txt-hint"> {{ condition | sfGetConditionOperatorLabel:formDefinition }} </span>{{ condition | sfGetConditionFieldValue:formDefinition }}<span *ngIf="!l" class="-sf-txt-hint"> {{ formRuleOperator | sfGetRuleOperatorLabel }}</span></div>\n</div>\n'},1290:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=function(){function e(){}return n.__decorate([i.Input(),n.__metadata("design:type",Array)],e.prototype,"formRuleActions",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"formDefinition",void 0),e=n.__decorate([i.Component({selector:"sf-action-column",template:o(1291)})],e)}();t.ActionColumnComponent=s},1291:function(e,t){e.exports='<div *ngFor="let action of formRuleActions">\n    <span\n        sfFormActionColumn\n        #formActionColumn="sfFormActionColumn"\n        [formRuleAction]="action"\n        [formDefinition]="formDefinition"\n        [isFormField]="false"\n        class="-sf-txt-hint">\n        {{ formActionColumn.actionColumnData.title }}\n    </span>\n    <span\n        sfFormActionColumn\n        #formFieldActionColumn="sfFormActionColumn"\n        [formRuleAction]="action"\n        [formDefinition]="formDefinition"\n        [ngClass]="formFieldActionColumn.actionColumnData.cssClassList"\n        sfTextOverflow\n        [trimLength]="50">\n        {{ formFieldActionColumn.actionColumnData.title }}\n    </span>\n</div>\n'},1292:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(1277),r=o(1278),a=o(8),l=o(47),c=o(26),p=o(42),d=function(){function e(e,t,o){this.typeParserService=e,this.metadataStore=t,this.dynamicItemsService=o,this.isFormField=!0,this.actionColumnData={title:a.stringConstants.EMPTY_STRING}}return e.prototype.ngOnInit=function(){this.setFieldActionData()},e.prototype.setFieldActionData=function(){this.isFormField?this.getActionFieldData():this.getActionData()},e.prototype.getActionData=function(){var e=this,t=this.formDefinition.AvailableActions.find(function(t){return t.Key===e.formRuleAction.Action});this.actionColumnData.title=this.formRuleAction.Action,t&&(this.actionColumnData.title=t.Value)},e.prototype.getActionFieldData=function(){var e=this;switch(this.formRuleAction.Action){case s.FormsConstants.FORM_ACTION_TYPE.SHOW:case s.FormsConstants.FORM_ACTION_TYPE.HIDE:var t=this.typeParserService.getField(this.formDefinition,this.formRuleAction.Target);t&&(this.actionColumnData.title=t.Title);break;case s.FormsConstants.FORM_ACTION_TYPE.SKIP:var o=this.formDefinition.Steps?this.formDefinition.Steps.find(function(t){return t.Key.toString()===e.formRuleAction.Target}):null;o&&(this.actionColumnData.title=o.Value);break;case s.FormsConstants.FORM_ACTION_TYPE.GOTO:var n=this.formRuleAction.Target;if(n){var i={itemKey:n,entityData:{metadata:this.metadataStore.getEntity(p.ENTITY_SET.PAGES),culture:this.formDefinition.Culture}};this.dynamicItemsService.getItem(i).subscribe(function(t){e.actionColumnData.title=t.data.Title},function(t){e.actionColumnData={title:s.FormsConstants.PAGE_DOES_NOT_EXIST,cssClassList:"-sf-txt-failure"}})}break;default:this.actionColumnData.title=this.formRuleAction.Target}},n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"formRuleAction",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"formDefinition",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],e.prototype,"isFormField",void 0),e=n.__decorate([i.Directive({selector:"[sfFormActionColumn]",exportAs:"sfFormActionColumn"}),n.__metadata("design:paramtypes",[r.FormFieldTypesParserService,l.MetadataStore,c.DynamicItemService])],e)}();t.FormActionColumnDirective=d},1293:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(188),r=o(1277),a=o(1278),l=o(283),c=o(8),p=o(132),d=o(24),u=function(){function e(e){this.typeParserService=e,this.conditionForDelete=new i.EventEmitter}return e.prototype.ngOnInit=function(){this.initConditionFields()},e.prototype.formFieldChanged=function(e){if(this.formField=this.formDefinition.Fields.find(function(t){return t.Id===e}),this.formField){var t=this.formField.Operators.length>0?this.formField.Operators[0].Key:null;this.operatorsDropdownSettings.choices=this.setOperatorChoices(this.formField.Operators),this.operatorsDropdownSettings.defaultValue=t,this.formRuleCondition.Operator=t,this.formRuleCondition.Value=this.getDefaultFieldValue(),this.refreshDynamicComponent(this.formField,t,this.formRuleCondition.Value)}this.formRuleCondition.Id=e},e.prototype.conditionOperatorChanged=function(e){this.refreshDynamicComponent(this.formField,e,this.formRuleCondition.Value),this.formRuleCondition.Operator=e},e.prototype.deleteCondition=function(){this.conditionForDelete.emit(this.formRuleCondition)},e.prototype.loaderInit=function(e){var t=this;this.wrappedField=e,this.wrappedField.registerOnChange(function(e){if(t.loader.currentInstance instanceof p.DateTimePickerComponent)if(e){var o=new Date(e);t.formRuleCondition.Value=d.convertDateToIsoDateTime(o,r.FormsConstants.TIMEZONE_OFFSET)}else t.formRuleCondition.Value=e;else t.formRuleCondition.Value=e})},e.prototype.initConditionFields=function(){var e=this;this.formRuleCondition&&(this.formFieldsDropdownSettings=new s.ChoiceSettings("formFieldsDropdown",!1),this.operatorsDropdownSettings=new s.ChoiceSettings("operatorsDropdown",!1),this.typeParserService.getConditionFields(this.formDefinition).forEach(function(t){e.formFieldsDropdownSettings.choices.push({Value:t.Id,Name:t.Title})}),this.formField=this.formDefinition.Fields.find(function(t){return t.Id===e.formRuleCondition.Id}),this.formField&&(this.formFieldsDropdownSettings.defaultValue=this.formRuleCondition.Id,this.operatorsDropdownSettings.choices=this.setOperatorChoices(this.formField.Operators),this.operatorsDropdownSettings.defaultValue=this.formRuleCondition.Operator,this.refreshDynamicComponent(this.formField,this.formRuleCondition.Operator,this.formRuleCondition.Value)))},e.prototype.refreshDynamicComponent=function(e,t,o){this.loader&&this.loader.destroy(this.formFieldColumnData.component),t===r.FormsConstants.CONDITION_OPERATORS.IsFilled||t===r.FormsConstants.CONDITION_OPERATORS.IsNotFilled?(this.formRuleCondition.Value=c.stringConstants.EMPTY_STRING,this.formFieldColumnData=this.typeParserService.getConditionComponentType({Type:null},null)):this.formFieldColumnData=this.typeParserService.getConditionComponentType(e,o)},e.prototype.setOperatorChoices=function(e){return e.map(function(e){return{Name:e.Value,Value:e.Key}})},e.prototype.getDefaultFieldValue=function(){var e=c.stringConstants.EMPTY_STRING;return this.formField&&this.formField.Values&&this.formField.Values.length>0&&(e=this.formField.Values[0]),e},n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"formDefinition",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Object)],e.prototype,"formRuleCondition",void 0),n.__decorate([i.Input(),n.__metadata("design:type",Boolean)],e.prototype,"canDelete",void 0),n.__decorate([i.Output(),n.__metadata("design:type",i.EventEmitter)],e.prototype,"conditionForDelete",void 0),n.__decorate([i.ViewChild("loader"),n.__metadata("design:type",l.DynamicComponentLoaderComponent)],e.prototype,"loader",void 0),e=n.__decorate([i.Component({selector:"sf-condition-create-composite",template:o(1294)}),n.__metadata("design:paramtypes",[a.FormFieldTypesParserService])],e)}();t.ConditionCreateCompositeComponent=u},1294:function(e,t){e.exports='<div class="sf-row">\n    <div class="sf-row__col -col-6 -sf-mr-xs">\n        <div class="sf-row">\n            <sf-dropdown-choice [settings]="formFieldsDropdownSettings" (selectionChange)="formFieldChanged($event)" class="-sf-mr-xs sf-row__col -col-7"></sf-dropdown-choice>\n            <sf-dropdown-choice [settings]="operatorsDropdownSettings" (selectionChange)="conditionOperatorChanged($event)" class="sf-row__col"></sf-dropdown-choice>\n        </div>\n    </div>\n    <sf-component-loader #loader [componentData]="formFieldColumnData.component" *ngIf="formFieldColumnData" (componentInit)="loaderInit($event)" class="-sf-mr-3xs" [ngClass]="formFieldColumnData.cssClassList"></sf-component-loader>\n    <sf-icon *ngIf="canDelete" look="size-3xs sf-clickable" name="times" (click)="deleteCondition()" class="-sf-mt-3xs  -sf-ml-auto"></sf-icon>\n</div>\n'},1295:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(1),s=o(16),r=o(15),a=o(1277),l=function(){function e(e,t){this.document=e,this.router=t}return e.prototype.ngOnInit=function(){var e=this;this.document.addEventListener(a.FormsConstants.ROUTES.SITEFINITY_OLD_BACKEND_EDIT_FORM_RULE_EVENT_NAME,function(t){e.formId=t.detail.controlId,e.culture=t.detail.culture,e.router.navigate([a.FormsConstants.ROUTES.CONTENT,a.FormsConstants.ROUTES.FORMS,a.FormsConstants.ROUTES.RULES],{queryParams:{id:e.formId,culture:e.culture}})})},e=n.__decorate([i.Component({selector:"sf-forms-edit-integrated",template:""}),n.__param(0,i.Inject(s.DOCUMENT)),n.__metadata("design:paramtypes",[Object,r.Router])],e)}();t.FormsEditIntegratedComponent=l}}]);